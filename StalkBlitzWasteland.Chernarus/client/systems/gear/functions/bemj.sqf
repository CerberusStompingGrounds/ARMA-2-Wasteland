private["_odli","_cykm","_azce","_jimq","_jvph","_zmrl","_nvrc"];_azce=_this;_odli=[]call pqoo;_cykm=0;_jimq=false;_jvph=false;{if(_cykm>=_odli)exitwith{_jvph=true};if((_x select 0)=="CfgVehicles")then{_kqwx=_x call jdme;if(_cykm+_kqwx<=_odli)then{[_x select 1]call xpip;_cykm=_cykm+_kqwx}}else{_zmrl=[player]call bis_fnc_invslotsempty;_nvrc=_x select 1;_kqwx=_x call jdme;_yxzs=(getNumber(configFile>>(_x select 0)>>(_x select 1)>>"type"))call{if(_this==1)exitwith{(_zmrl select 0)>=1};if(_this==2)exitwith{(_zmrl select 1)>=1};if(_this==4)exitwith{true};if(_this==5)exitwith{(_zmrl select 0)>=1};if(_this==131072)exitwith{true};if(_this==4096)exitwith{(_zmrl select 5)>=1};if(_this==16)exitwith{(_zmrl select 3)>=1};if(_this==256)exitwith{(_zmrl select 4)>=1};if(_this==512)exitwith{(_zmrl select 4)>=2};if(_this==768)exitwith{(_zmrl select 4)>=3};if(_this==1024)exitwith{(_zmrl select 4)>=4};if(_this==1280)exitwith{(_zmrl select 4)>=5};if(_this==1536)exitwith{(_zmrl select 4)>=6}};if(_yxzs)then{if(_cykm+_kqwx<=_odli)then{if(_x select 0=="CfgWeapons")then{player addWeapon _nvrc}else{player addMagazine _nvrc};_cykm=_cykm+_kqwx}else{_jvph=true}}else{_jimq=true}};nil}count _azce;private["_bfzr"];player selectWeapon(primaryWeapon player);if((primaryWeapon player)=="")then{{_bfzr=getArray(configFile>>"cfgWeapons">>_x>>"magazines");if(count _bfzr>0)exitwith{player selectWeapon _x}}forEach(weapons player)};_cykm call tziw;if(_jimq)then{hint"You didn't have enough room for everything"};if(_jvph)then{hint"You didn't have enough money for everything"};