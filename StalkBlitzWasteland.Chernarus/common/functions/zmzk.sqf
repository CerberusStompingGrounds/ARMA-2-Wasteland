private["_rbtp","_cpst","_qing","_tvsb","_whiv","_dlvi","_svri","_htgm"];_rbtp=[_this,0,"LandVehicle",["",(configFile>>"CfgVehicles")]]call jdly;_cpst=+([_this,1,[],[[]]]call jdly);_qing=[];if(typeName _rbtp=="STRING")then{_rbtp=(configFile>>"CfgVehicles">>_rbtp>>"turrets")};for"_whiv"from 0 to(count _rbtp)-1 do{_tvsb=_rbtp select _whiv;if(isClass _tvsb)then{_dlvi=_cpst+[_whiv];{_svri=configFile>>"CfgWeapons">>_x;_htgm=[];{_htgm=_htgm+getArray((if(_x=="this")then{_svri}else{_svri>>_x})>>"magazines")}forEach getArray(_svri>>"muzzles");_qing set[_foreachindex,[_x,_dlvi,_htgm]]}forEach getArray(_tvsb>>"weapons");_tvsb=_tvsb>>"turrets";if(isClass _tvsb)then{_qing=_qing+([_tvsb,_dlvi]call bmst)}}};_qing