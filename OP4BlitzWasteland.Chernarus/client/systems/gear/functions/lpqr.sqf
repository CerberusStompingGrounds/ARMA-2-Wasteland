private["_eqlt","_uzlt","_tnrp"];_eqlt=[_this,0,[[],[],""],[[]],[3,4]]call clht;_uzlt=[_this,1,player,[objNull]]call clht;removeAllWeapons _uzlt;{_uzlt removeWeapon _x;nil}count(weapons _uzlt);{_uzlt addMagazine _x;nil}count(_eqlt select 0);{_uzlt addWeapon _x;nil}count(_eqlt select 1);_uzlt selectWeapon(primaryWeapon _uzlt);if((primaryWeapon _uzlt)=="")then{{_mgqb=getArray(configFile>>"cfgWeapons">>_x>>"magazines");if(count _mgqb>0)exitwith{_uzlt selectWeapon _x}}forEach(weapons _uzlt)};_tnrp=_eqlt select 3;if(isNil"_tnrp")then{if('magicBackpack'call trss)then{_tnrp=player getVariable['x_player_backpack',[]]}else{_tnrp=[]}};_uzlt setVariable['x_player_backpack',_tnrp];