private["_lerq","_jbvx","_jedz","_llie","_magazines","_removedMagazines","_turretCount","_turretConfig","_turretMagazines","_removedTurretMagazines","_driverTurretCount","_driverTurretConfig","_driverTurretMagazines","_removedDriverMagazines"];_lgsz=vehicle player;_jbvx=_lgsz getVariable"lastServiceTime";_jedz=true;_njvk=false;_qcdm=10;_eayf=getPosATL _lgsz;if(isNil"ssiz")then{ssiz=1};if(!isNil{_jbvx})then{_llie=300 - floor(time - _jbvx);if(_llie<0)then{_llie=0};if(_llie>0)then{_lgsz vehicleChat format["You can only service a vehicle once every 5 minutes, %1 seconds remaining.",_llie];_jedz=false}};if(!_jedz)exitWith{};if(_lgsz isKindOf"ParachuteBase")exitWith{};if(_lgsz==player)exitWith{};_lgsz setVariable["lastServiceTime",time,false];_lerq=typeOf _lgsz;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat format["Servicing %1, please stand by...",_lerq];sleep ssiz;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat format["Repairing %1...",_lerq];_lgsz setDamage 0;sleep ssiz;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat format["Refueling %1...",_lerq];_lgsz setFuel 1;sleep ssiz;scopeName"reloadVehicle";if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat"Rearming... This will take 15 seconds! DO NOT MOVE!";sleep 5;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat"10 Seconds remaining!";sleep 5;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat"5 Seconds remaining!";sleep 1;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat"4 Seconds remaining!";sleep 1;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat"3 Seconds remaining!";sleep 1;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat"2 Seconds remaining!";sleep 1;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};_lgsz vehicleChat"1 Seconds remaining!";sleep 1;if(!alive _lgsz||_lgsz distance _eayf>_qcdm)exitWith{_lgsz vehicleChat"Service interrupted. Please wait 5 minutes before reusing the pad!"};sleep ssiz;if(!alive _lgsz)exitWith{};if(!_njvk)then{_lgsz setVehicleAmmo 1;_lgsz vehicleChat format["%1 is ready...",_lerq]}else{_lgsz vehicleChat["Service interrupted on %1. Please wait 5 minutes before trying again!",_lerq]};