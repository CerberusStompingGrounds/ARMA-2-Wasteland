private["_rbbm","_vlpd","_wtom","_ftfi"];_rbbm=[_this,0,player,[player]]call jdly;_vlpd=0;_wtom=[];_wtom set[count _wtom,["move","<t color='#ff9c00'><img image='logistics\icons\moveobject.paa' /> Move Object</t>",{orkb call b_fnc_ha},_vlpd,true,"cursorTarget == orkb && isNull rtkt"]];_wtom set[count _wtom,["enable_keybinds","<t color='#00a3e0'><img image='logistics\icons\enablekb.paa' /> Enable Keybinds</t>",b_fnc_zp,_vlpd -1,true,"!isNull rtkt && ysca == -1"]];_wtom set[count _wtom,["disable_keybinds","<t color='#00a3e0'><img image='logistics\icons\disablekb.paa' /> Disable Keybinds</t>",b_fnc_ju,_vlpd -1,true,"!isNull rtkt && ysca > -1"]];_wtom set[count _wtom,["release_object","<t color='#ff9c00'><img image='logistics\icons\releaseobject.paa' /> Release Object</t>",{[]call b_fnc_ax},_vlpd+10,true,"!isNull rtkt"]];_wtom set[count _wtom,["rotate","<t color='#d45500'><img image='logistics\icons\rotateobject.paa' /> Rotate Options</t>",{pzrj=true},_vlpd,false,"!isNull rtkt && !pzrj"]];_wtom set[count _wtom,["rotate45","<t color='#d45500'>Rotate 45</t>",{[nil,nil,nil,imgu+45]call b_fnc_kj},_vlpd,false,"!isNull rtkt && pzrj"]];_wtom set[count _wtom,["rotate90","<t color='#d45500'>Rotate 90</t>",{[nil,nil,nil,imgu+90]call b_fnc_kj},_vlpd,false,"!isNull rtkt && pzrj"]];_wtom set[count _wtom,["rotate180","<t color='#d45500'>Rotate 180</t>",{[nil,nil,nil,imgu+180]call b_fnc_kj},_vlpd,false,"!isNull rtkt && pzrj"]];_wtom set[count _wtom,["rotate_reset","<t color='#d45500'>Reset Rotation</t>",{[nil,nil,nil,0]call b_fnc_kj},_vlpd,false,"!isNull rtkt && pzrj"]];_wtom set[count _wtom,["rotate_hide","<t color='#d45500'>Hide Rotation Options</t>",{pzrj=false},_vlpd,false,"!isNull rtkt && pzrj"]];_wtom set[count _wtom,["pos_object","<t color='#d48200'><img image='logistics\icons\positionoptions.paa' /> Position Options</t>",{knly=true},_vlpd,false,"!isNull rtkt && !knly"]];_wtom set[count _wtom,["match_terrain","<t color='#d48200'><img image='logistics\icons\terrainon.paa' /> Match terrain angle</t>",{dkqv=true;[]call b_fnc_mk},_vlpd,false,"!isNull rtkt && knly && !dkqv"]];_wtom set[count _wtom,["match_terrain_stop","<t color='#d48200'><img image='logistics\icons\terrainoff.paa' /> Stop Match terrain angle</t>",{dkqv=false;rtkt setVectorUp[0,0,1];[]call b_fnc_mk},_vlpd,false,"!isNull rtkt && knly && dkqv"]];_wtom set[count _wtom,["pos_forward","<t color='#d48200'>Move forward 0.5m</t>",{[lozm+0.5]call b_fnc_kj},_vlpd,false,"!isNull rtkt && knly && lozm < 5"]];_wtom set[count _wtom,["pos_back","<t color='#d48200'>Move back 0.5m</t>",{[lozm - 0.5]call b_fnc_kj},_vlpd,false,"!isNull rtkt && knly && lozm > 1"]];_wtom set[count _wtom,["pos_down","<t color='#d48200'>Move down 0.1m</t>",{[nil,hpzy - 0.1]call b_fnc_kj},_vlpd,false,"!isNull rtkt && knly && hpzy > -1"]];_wtom set[count _wtom,["pos_up","<t color='#d48200'>Move up 0.1m</t>",{[nil,hpzy+0.1]call b_fnc_kj},_vlpd,false,"!isNull rtkt && knly && hpzy < 1"]];_wtom set[count _wtom,["pos_left","<t color='#d48200'>Move left 0.5m</t>",{[nil,nil,irpz - 0.5]call b_fnc_kj},_vlpd,false,"!isNull rtkt && knly && irpz > -1"]];_wtom set[count _wtom,["pos_right","<t color='#d48200'>Move right 0.5m</t>",{[nil,nil,irpz+0.5]call b_fnc_kj},_vlpd,false,"!isNull rtkt && knly && irpz < 1"]];_wtom set[count _wtom,["pos_reset","<t color='#d48200'>Reset Position</t>",{[rtkt]call b_fnc_ha},_vlpd,false,"!isNull rtkt && knly"]];_wtom set[count _wtom,["pos_hide","<t color='#d48200'>Hide Positioning Options</t>",{knly=false},_vlpd,false,"!isNull rtkt && knly"]];_wtom set[count _wtom,["release","Release Vehicle",{[vehicle player]call b_fnc_gn},_vlpd+10,true,"recb && !isNull ((vehicle player) getVariable ['LOG_towedObject', objNull])"]];_wtom set[count _wtom,["tow","Tow Vehicle",{_amuf=[]call{if!(isNull(myyw getVariable['LOG_towedObject',objNull]))exitwith{"That vehicle is towing an object"};if!(isNull((vehicle player)getVariable['LOG_towedTo',objNull]))exitwith{"You can't tow a vehicle while you are being towed"};if!(isNull(myyw getVariable['LOG_towedTo',objNull]))exitwith{"That vehicle is already being towed"};if!([myyw,vehicle player]call b_fnc_mr)exitwith{"You can't tow that with this vehicle"};""};if(_amuf=="")then{[vehicle player,myyw,!((vehicle player)isKindOf'Air')]call b_fnc_od}else{hint _amuf}},_vlpd+10,true,"!isNull myyw"]];_wtom set[count _wtom,["show_contents","Show Contents",{[tiur]call b_fnc_dc},_vlpd,true,"!isNull tiur && isNull rtkt"]];_wtom set[count _wtom,["load_object","Load Object",{private["_lnei"];_lnei=rtkt;if(isNull _lnei)then{_lnei=kwos};if([tiur,_lnei]call b_fnc_hh)then{[_lnei,tiur,true]call b_fnc_lw}else{hint"The container does not have room for that object"}},_vlpd,true,"!isNull tiur && ((!isNull rtkt && rtkt != tiur) || (!isNull kwos && kwos != tiur && kwos distance tiur < 10 ))"]];_wtom set[count _wtom,["select_load_object","<t color='#c7c500'><img image='logistics\icons\load.paa' /> Load Object</t>",{kwos=orkb},_vlpd+10,true,"!isNull orkb && isNull rtkt"]];_ftfi=[];{_ftfi set[count _ftfi,[_x select 0,[_x select 1,_x select 2,nil,_x select 3,false,_x select 4,"",_x select 5]call b_fnc_jc]]}forEach _wtom;lwap=_ftfi;_ftfi