#include "vbvk.sqf"disableSerialization;private["_efet","_njkh","_syei","_ldmd"];_efet=[_this,0,"Store",[""]]call clht;_njkh=[_this,1,[],[[]]]call clht;_syei=[_this,2,{},[{}]]call clht;_ldmd=[_this,3,{},[{}]]call clht;_dodh=[_this,4,{},[{}]]call clht;private["_tkzg","_uyga","_swlb","_duuz","_kvjb"];createDialog'storeDialog';_tkzg=uiNamespace getVariable'storeDialog';_uyga=_tkzg displayCtrl storeTitleIDC;_swlb=_tkzg displayCtrl storeCategoriesIDC;_duuz=_tkzg displayCtrl storeItemsIDC;_kvjb=_tkzg displayCtrl addRemoveBtnIDC;_abjl=_tkzg displayCtrl purchaseIDC;uiNamespace setVariable['storeCfg',[_efet,_njkh,_syei,_ldmd,_dodh]];uiNamespace setVariable['storeLastPane',""];_uyga ctrlSetText _efet;_kvjb ctrlShow false;_abjl ctrlEnable false;if(count _njkh<2)then{_swlb ctrlShow false;private["_kksz","_immt"];_kksz=getNumber(missionConfigFile>>"storeDialog">>"controls">>"storeCategories">>"h");_immt=missionConfigFile>>"storeDialog">>"controls">>"storeItems";_duuz ctrlSetPosition[getNumber(_immt>>"x"),(getNumber(_immt>>"y"))- _kksz,getNumber(_immt>>"w"),(getNumber(_immt>>"h"))+_kksz];_duuz ctrlCommit 0}else{_swlb lbAdd SHOW_ALL_TEXT;_swlb lbSetCurSel 0;{_swlb lbAdd(_x select 0)}forEach _njkh};[_njkh]call vufk;[[],_tkzg displayCtrl cartInfoIDC,_abjl]call _ldmd;_tkzg