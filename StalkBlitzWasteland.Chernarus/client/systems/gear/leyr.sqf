#include "functions\ckbl.sqf"_mpqe=call compile((_this select 0)lbData(_this select 1));_hzdk=((uiNamespace getVariable'gearDialog')displayCtrl buyGunIDC);_kzep=true;if((_this select 2)=='cart')then{_kzep=false;_hzdk ctrlSetText"Remove item from cart";_hzdk buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gear\hula.sqf'"}else{if((_mpqe select 0)=='presets')then{_hzdk ctrlShow true;_hzdk ctrlSetText"Activate Preset";_hzdk buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gear\mmxn.sqf'";((uiNamespace getVariable'gearDialog')displayCtrl deletePresetIDC)ctrlShow true}else{_hzdk ctrlSetText"Add item to cart";_hzdk buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gear\esky.sqf'"}};if(_mpqe select 0=='presets')exitwith{};_hzdk ctrlShow true;((uiNamespace getVariable'gearDialog')displayCtrl buyAmmoIDC)ctrlShow _kzep;((uiNamespace getVariable'gearDialog')displayCtrl deletePresetIDC)ctrlShow false;if((_this select 2)in['items','cart'])then{_mpqe call xnck};if((_mpqe select 0)=="CfgWeapons"&&(_this select 2)=='items')then{_dymc=_mpqe select 1;_gssv=getArray(configFile>>"CfgWeapons">>_dymc>>"magazines");_plrb=[];{if(_x!='this')then{_gssv=_gssv+getArray(configFile>>"CfgWeapons">>_dymc>>_x>>"magazines")}}count(getArray(configFile>>"CfgWeapons">>_dymc>>"muzzles"));{if(["CfgMagazines",_x]call xyzy)then{_plrb set[count _plrb,["CfgMagazines",_x]]};true}count _gssv;_pytm=(uiNamespace getVariable'gearDialog')displayCtrl ammoListIDC;[_pytm,_plrb]call bzai;_pytm lbSetCurSel 0};