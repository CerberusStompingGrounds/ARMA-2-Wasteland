#include "ckbl.sqf"private["_mhnt","_vccr","_titj","_ejtf","_rpcy","_gnyk","_pdvo","_jsdz"];_mhnt=[_this,0,[]call zfdd,[[]],[4]]call jdly;_vccr=[];_gnyk={private["_wnhr","_qeuw","_vjer"];_wnhr=_this select 0;_qeuw=getPosATL(_this select 2);_vjer=getDir(_this select 2);if(_wnhr=='air')then{_qeuw set[2,'haloSpawnHeight'call bdra];[player,_qeuw,_vjer]call ffql}else{player setPosATL _qeuw};closeDialog respawnDialogIDD};{_rpcy=(_x select 1)call fqef;_titj=([_mhnt,(_x select 3)]call uvzk)select 1;_ejtf=[[_rpcy]]call mlks;_vjer=getDir(_x select 2);if(_ejtf=="FRIENDLY")then{_pdvo=[(getPosATL(_x select 2))]call slfp;_jsdz=format['%1 beacon %2 of %3 facing %4',_x select 0,[(_pdvo select 1),(getPosATL(_x select 2))]call ttyi,_pdvo select 0,[_vjer,true]call ioki];_vccr set[count _vccr,[name _rpcy,_jsdz,_x select 2,_titj in["MIXED","ENEMY"],_x,_gnyk]]}}forEach uaig;_vccr