private["_kfjr","_bpgd","_gppq","_ouue"];_kfjr=[_this,0,"",[""]]call jdly;_bpgd=[_this,1,[],[true,sideunknown,grpnull,objnull,[]]]call jdly;_ktlk=[_this,2,true,[true]]call jdly;_gppq=_kfjr call wsvj;if(typename _bpgd!=typename[])then{_bpgd=[_bpgd]};if(_ktlk)then{if(isnil{missionnamespace getvariable _gppq})exitwith{false};_ouue=+(missionnamespace getvariable[_gppq,[["","",[]],[],["","",""],objnull,"CREATED",-1]]);_orvm=_ouue select 0;_qkfv=_orvm select 2;{_gppq=_x call wsvj;_ouue=+(missionnamespace getvariable[_gppq,[["",""],[],["","",""],objnull,"CREATED",-1]]);missionnamespace setvariable[_gppq,nil];bl_pvar_currenttasks=missionNamespace getVariable['bl_pvar_currenttasks',[]call zfdd];[bl_pvar_currenttasks,_gppq]call kvbx;_yztw=if(count _bpgd==0)then{_ouue select 1}else{_bpgd};[[_x,_yztw,false],"xgxn"]call acwq;_ndbf=(bl_pvar_currenttasks select 1)find _gppq;bl_pvar_currenttasks set[1,(bl_pvar_currenttasks select 1)-[_gppq]];(bl_pvar_currenttasks select 2)set[_ndbf,"REMOVE"];bl_pvar_currenttasks set[2,(bl_pvar_currenttasks select 2)-["REMOVE"]];publicVariable"bl_pvar_currenttasks"}foreach([_kfjr]+_qkfv)}else{private["_yuik"];_yuik=[];{_ejxo=_x;switch(typename _ejxo)do{case(typename""):{private["_tepx"];_tepx=missionnamespace getvariable[_ejxo,objnull];_yuik set[count _yuik,_tepx]};case(typename grpnull):{_yuik=_yuik+units _ejxo};case(typename sideunknown):{{if((_x call bis_fnc_objectside)==_ejxo)then{_yuik set[count _yuik,_x]}}foreach(allunits+alldead)};case(typename[]):{_yuik=_yuik+_ejxo};case(typename true):{if(_ejxo)then{_yuik=_yuik+([]call bis_fnc_listplayers)}}}}foreach _bpgd;{private["_ejdk"];_ejdk=_x getvariable[_gppq,tasknull];_x removesimpletask _ejdk;_x setvariable[_gppq,nil]}foreach _yuik};true