private["_wavr","_vsug","_qmgb","_itdu","_nixu","_hdzs","_wgvp"];_qmgb=_this;_wavr=[]call apdk;_vsug=0;_itdu=false;_nixu=false;{if(_vsug>=_wavr)exitwith{_nixu=true};if((_x select 0)=="CfgVehicles")then{_iyrl=_x call vcxu;if(_vsug+_iyrl<=_wavr)then{[_x select 1]call vzts;_vsug=_vsug+_iyrl}}else{_hdzs=[player]call bis_fnc_invslotsempty;_wgvp=_x select 1;_iyrl=_x call vcxu;_npse=(getNumber(configFile>>(_x select 0)>>(_x select 1)>>"type"))call{if(_this==1)exitwith{(_hdzs select 0)>=1};if(_this==2)exitwith{(_hdzs select 1)>=1};if(_this==4)exitwith{true};if(_this==5)exitwith{(_hdzs select 0)>=1};if(_this==131072)exitwith{true};if(_this==4096)exitwith{(_hdzs select 5)>=1};if(_this==16)exitwith{(_hdzs select 3)>=1};if(_this==256)exitwith{(_hdzs select 4)>=1};if(_this==512)exitwith{(_hdzs select 4)>=2};if(_this==768)exitwith{(_hdzs select 4)>=3};if(_this==1024)exitwith{(_hdzs select 4)>=4};if(_this==1280)exitwith{(_hdzs select 4)>=5};if(_this==1536)exitwith{(_hdzs select 4)>=6}};if(_npse)then{if(_vsug+_iyrl<=_wavr)then{if(_x select 0=="CfgWeapons")then{player addWeapon _wgvp}else{player addMagazine _wgvp};_vsug=_vsug+_iyrl}else{_nixu=true}}else{_itdu=true}};nil}count _qmgb;private["_mxxo"];player selectWeapon(primaryWeapon player);if((primaryWeapon player)=="")then{{_mxxo=getArray(configFile>>"cfgWeapons">>_x>>"magazines");if(count _mxxo>0)exitwith{player selectWeapon _x}}forEach(weapons player)};_vsug call wpoe;if(_itdu)then{hint"You didn't have enough room for everything"};if(_nixu)then{hint"You didn't have enough money for everything"};