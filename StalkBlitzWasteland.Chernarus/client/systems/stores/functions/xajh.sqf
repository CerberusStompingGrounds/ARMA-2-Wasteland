#include "ckbl.sqf"disableSerialization;private["_sjhx","_nqbp","_ozni","_smql"];_sjhx=[_this,0,"Store",[""]]call jdly;_nqbp=[_this,1,[],[[]]]call jdly;_ozni=[_this,2,{},[{}]]call jdly;_smql=[_this,3,{},[{}]]call jdly;_gwex=[_this,4,{},[{}]]call jdly;private["_xxdu","_pgrm","_mvwl","_jjkw","_ptdd"];createDialog'storeDialog';_xxdu=uiNamespace getVariable'storeDialog';_pgrm=_xxdu displayCtrl storeTitleIDC;_mvwl=_xxdu displayCtrl storeCategoriesIDC;_jjkw=_xxdu displayCtrl storeItemsIDC;_ptdd=_xxdu displayCtrl addRemoveBtnIDC;_csgx=_xxdu displayCtrl purchaseIDC;uiNamespace setVariable['storeCfg',[_sjhx,_nqbp,_ozni,_smql,_gwex]];uiNamespace setVariable['storeLastPane',""];_pgrm ctrlSetText _sjhx;_ptdd ctrlShow false;_csgx ctrlEnable false;if(count _nqbp<2)then{_mvwl ctrlShow false;private["_arek","_wxsu"];_arek=getNumber(missionConfigFile>>"storeDialog">>"controls">>"storeCategories">>"h");_wxsu=missionConfigFile>>"storeDialog">>"controls">>"storeItems";_jjkw ctrlSetPosition[getNumber(_wxsu>>"x"),(getNumber(_wxsu>>"y"))- _arek,getNumber(_wxsu>>"w"),(getNumber(_wxsu>>"h"))+_arek];_jjkw ctrlCommit 0}else{_mvwl lbAdd SHOW_ALL_TEXT;_mvwl lbSetCurSel 0;{_mvwl lbAdd(_x select 0)}forEach _nqbp};[_nqbp]call fvig;[[],_xxdu displayCtrl cartInfoIDC,_csgx]call _smql;_xxdu