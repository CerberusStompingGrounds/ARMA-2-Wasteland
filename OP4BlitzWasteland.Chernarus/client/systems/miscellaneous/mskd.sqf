jebp=true;etap=[localize"STR_CHANNEL_GLOBAL",localize"STR_CHANNEL_COMMAND"];tktx=["PushToTalkCommand","PushToTalkAll"];kqad=[["PushToTalkCommand",localize"STR_CHANNEL_COMMAND",format["%1 VON is not allowed.",localize"STR_CHANNEL_COMMAND"]],["PushToTalkAll",localize"STR_CHANNEL_GLOBAL",format["%1 VON is not allowed.",localize"STR_CHANNEL_GLOBAL"]]];if(playerSide==resistance)then{etap=etap+[localize"STR_CHANNEL_SIDE"];tktx=tktx+["PushToTalkSide"];kqad=kqad+[["PushToTalkSide",localize"STR_CHANNEL_SIDE",format["%1 VON not allowed on Independent",localize"STR_CHANNEL_SIDE"]]]};agox=localize"STR_CHANNEL_GROUP";mowe={private["_knii","_key","_indu","_mzgp","_kssq","_bboa","_zwzu","_ewqq"];_knii=false;_key=_this select 1;_indu="";_mzgp=[];_kssq=_key in actionKeys"PushToTalk";{_mzgp=_mzgp+(actionKeys _x);true}count tktx;_knii=_key in _mzgp||{(_kssq&&agox in etap)};if(_knii)then{_key spawn ehuf}else{if(jebp&&_kssq)then{_bboa=getNumber(configFile>>"RscDisplayChannel">>"idd");_zwzu=getNumber(configFile>>"RscDisplayChannel">>"controls">>"CA_Channel">>"IDC");_ewqq=ctrlText((findDisplay _bboa)displayCtrl _zwzu);if(_ewqq in etap)then{agox=_ewqq;_key spawn ehuf;_knii=true};jebp=false}};_knii};ehuf={private["_lgzg"];_lgzg="";{if(_this in(actionKeys(_x select 0)))then{_lgzg=_x select 2}else{if(agox==(_x select 1))then{_lgzg=_x select 2}};true}count kqad;titleText[_lgzg,'BLACK',0.01];sleep 2;titleFadeOut 0};trsy={private["_key","_mlnr","_bboa","_zwzu"];_key=_this select 1;_mlnr=(actionKeys"NextChannel")+(actionKeys"PrevChannel");_bboa=getNumber(configFile>>"RscDisplayChannel">>"idd");_zwzu=getNumber(configFile>>"RscDisplayChannel">>"controls">>"CA_Channel">>"IDC");if(_key in _mlnr)then{agox=ctrlText((findDisplay _bboa)displayCtrl _zwzu)}};if(count etap>0||count tktx>0)then{(findDisplay 46)displayAddEventHandler["KeyUp","_this call trsy"];(findDisplay 46)displayAddEventHandler["KeyDown","_this call mowe"]};