private["_ckdy","_ujrh","_ujcb","_rtxj"];_ckdy=[_this,0,"",[""]]call clht;_ujrh=[_this,1,[],[true,sideunknown,grpnull,objnull,[]]]call clht;_iumm=[_this,2,true,[true]]call clht;_ujcb=_ckdy call ulyu;if(typename _ujrh!=typename[])then{_ujrh=[_ujrh]};if(_iumm)then{if(isnil{missionnamespace getvariable _ujcb})exitwith{false};_rtxj=+(missionnamespace getvariable[_ujcb,[["","",[]],[],["","",""],objnull,"CREATED",-1]]);_lxyg=_rtxj select 0;_ahoq=_lxyg select 2;{_ujcb=_x call ulyu;_rtxj=+(missionnamespace getvariable[_ujcb,[["",""],[],["","",""],objnull,"CREATED",-1]]);missionnamespace setvariable[_ujcb,nil];bl_pvar_currenttasks=missionNamespace getVariable['bl_pvar_currenttasks',[]call dssf];[bl_pvar_currenttasks,_ujcb]call yapx;_kofi=if(count _ujrh==0)then{_rtxj select 1}else{_ujrh};[[_x,_kofi,false],"fgjv"]call nfhm;_vkfe=(bl_pvar_currenttasks select 1)find _ujcb;bl_pvar_currenttasks set[1,(bl_pvar_currenttasks select 1)-[_ujcb]];(bl_pvar_currenttasks select 2)set[_vkfe,"REMOVE"];bl_pvar_currenttasks set[2,(bl_pvar_currenttasks select 2)-["REMOVE"]];publicVariable"bl_pvar_currenttasks"}foreach([_ckdy]+_ahoq)}else{private["_hbbp"];_hbbp=[];{_qmdh=_x;switch(typename _qmdh)do{case(typename""):{private["_weot"];_weot=missionnamespace getvariable[_qmdh,objnull];_hbbp set[count _hbbp,_weot]};case(typename grpnull):{_hbbp=_hbbp+units _qmdh};case(typename sideunknown):{{if((_x call bis_fnc_objectside)==_qmdh)then{_hbbp set[count _hbbp,_x]}}foreach(allunits+alldead)};case(typename[]):{_hbbp=_hbbp+_qmdh};case(typename true):{if(_qmdh)then{_hbbp=_hbbp+([]call bis_fnc_listplayers)}}}}foreach _ujrh;{private["_zoyc"];_zoyc=_x getvariable[_ujcb,tasknull];_x removesimpletask _zoyc;_x setvariable[_ujcb,nil]}foreach _hbbp};true