#include "functions\ckbl.sqf"dcwi=[];jwqf=[];xbfp=0;wqav=0;bl_grass=profileNamespace getVariable['bl_grass',1];bl_enableenv=profileNamespace getVariable['bl_enableenv',1];bl_playermenukey=profileNamespace getVariable['bl_playermenukey',41];brwv=-1;ojrw=missionNamespace getVariable['ojrw',[]];fzfr=missionNamespace getVariable['fzfr',[]];if(!hasInterface)exitwith{};[]call hspq;['groupInvite',{dcwi set[count dcwi,_this select 1];[]call qvsj;[format['%1 has invited you to join a group.',_this select 1],5]call dbmz}]call nnjm;['groupCancelInvite',{dcwi set[dcwi find(_this select 1),nil];[]call qvsj}]call nnjm;['rejectInvite',{jwqf set[jwqf find(_this select 1),nil];[]call qvsj}]call nnjm;['serverUpdate',{xbfp=(_this select 0);wqav=(_this select 1)}]call ngfr;['Pick up money',{(_this select 0)isKindOf('moneyModel'call bdra)&&!lwyw},{[5,"Picking up money %1",_this,{_rwcg=(_this select 0)getVariable['moneyAmount',0];_rwcg call fugq;(_this select 0)call oodz}]call byng},1]call hzak;[]spawn{waitUntil{!isNull player&&player==player};waitUntil{!(isNull(findDisplay 46))};[bl_grass]call vham;[bl_enableenv]call bbyy;(findDisplay 46)displayAddEventHandler['KeyDown',"
		if ( _this select 1 == bl_playermenukey && isNull findDisplay 4000) then {
			createDialog 'playerMenuDialog';
			true
		};
	"];player addEventHandler['respawn',{(_this select 1)removeAction brwv;brwv=player addAction['<t color="#FF0000"><img image="client\systems\playerMenu\icons\playermenu.paa" /> Player Menu</t>',"zixg.sqf",{createDialog'playerMenuDialog'},-1,false,true]}];brwv=player addAction['<t color="#FF0000"><img image="client\systems\playerMenu\icons\playermenu.paa" /> Player Menu</t>',"zixg.sqf",{createDialog'playerMenuDialog'},-1,false,true]};[]spawn{waitUntil{!isNull player&&player==player};waitUntil{!(isNull(findDisplay 46))};_ilab=units group player;while{true}do{waitUntil{!([(units group player),_ilab]call pqnb)};_ilab=units group player;['groupChange',group player]call shqc}};