#include "vbvk.sqf"private["_vruy","_eftw","_qdkb","_neiq","_hxht","_njcq","_slmw","_pgax"];_vruy=[_this,0,[]call dssf,[[]],[4]]call clht;_eftw=[];_njcq={private["_grsl","_toag","_saye"];_grsl=_this select 0;_toag=getPosATL(_this select 2);_saye=getDir(_this select 2);if(_grsl=='air')then{_toag set[2,'haloSpawnHeight'call trss];[player,_toag,_saye]call bplm}else{player setPosATL _toag};closeDialog respawnDialogIDD};{_hxht=(_x select 1)call aerj;_qdkb=([_vruy,(_x select 3)]call rewl)select 1;_neiq=[[_hxht]]call cdex;_saye=getDir(_x select 2);if(_neiq=="FRIENDLY")then{_slmw=[(getPosATL(_x select 2))]call kiuw;_pgax=format['%1 beacon %2 of %3 facing %4',_x select 0,[(_slmw select 1),(getPosATL(_x select 2))]call knhx,_slmw select 0,[_saye,true]call yybl];_eftw set[count _eftw,[name _hxht,_pgax,_x select 2,_qdkb in["MIXED","ENEMY"],_x,_njcq]]}}forEach oyjw;_eftw