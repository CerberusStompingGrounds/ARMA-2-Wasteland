#include "functions\ckbl.sqf"disableSerialization;_jnvi=uiNamespace getVariable'adminPanel';_jnvi call mpqd;_sskc=(_this select 0)lbData(_this select 1);if(typeName bl_adminplayer=="OBJECT")then{_sskc call{if(_this=="spec")exitwith{["Spectate player",{closeDialog 0;[bl_adminplayer]call xaxq}]call roob};if(_this=="freelook")exitwith{["Freelook at player",{[bl_adminplayer]call cwqd;closeDialog 0}]call roob};if(_this=="slay")exitwith{[format["Kill %1 and hide the body.",name bl_adminplayer]]call hyxv;["Slay player",{[bl_adminplayer]call ybha;closeDialog 0}]call roob};if(_this=="group")exitwith{_luff=format["Units in %1's group as your client knows about them.<br /><br />",name bl_adminplayer];{_luff=_luff+(name _x)+"<br />";true}count(units group bl_adminplayer);[_luff]call hyxv};if(_this=="gear")exitwith{[format["View %1's gear.<br /><br />",name bl_adminplayer]]call hyxv;["View Gear",{closeDialog 0;bl_adminplayer action["Gear",objNull]}]call roob}}}else{bl_adminplayer call{if(_this=="reveal")exitwith{_sskc call{if(_this=="Man")exitwith{["Toggle Players on map",{nmkv=[player,format['%1 (%2) toggled players on map',name player,getPlayerUID player]];publicVariableServer"nmkv";["Man"]call paum;closeDialog 0}]call roob};if(_this=="AllVehicles")exitwith{["Toggle Vehicles on map",{nmkv=[player,format['%1 (%2) toggled vehicles on map',name player,getPlayerUID player]];publicVariableServer"nmkv";["AllVehicles"]call paum;closeDialog 0}]call roob};if(_this=="Static")exitwith{["Toggle Base parts on map",{nmkv=[player,format['%1 (%2) toggled base parts on map',name player,getPlayerUID player]];publicVariableServer"nmkv";["Static"]call paum;closeDialog 0}]call roob};if(_this=="Reammobox_F")exitwith{["Toggle Ammo boxes on map",{nmkv=[player,format['%1 (%2) toggled ammo boxes on map',name player,getPlayerUID player]];publicVariableServer"nmkv";["Reammobox_F"]call paum;closeDialog 0}]call roob};if(_this=="All")exitwith{["Show all types on map",{nmkv=[player,format['%1 (%2) revealed all types on map',name player,getPlayerUID player]];publicVariableServer"nmkv";engi=[];["Man"]call paum;["AllVehicles"]call paum;["Static"]call paum;["Reammobox_F"]call paum;closeDialog 0}]call roob};if(_this=="Beacons")exitwith{["Show beacons on map",{nmkv=[player,format['%1 (%2) revealed beacons on map',name player,getPlayerUID player]];publicVariableServer"nmkv";engi=[];['airBeaconModel'call bdra]call paum;['groundBeaconModel'call bdra]call paum;closeDialog 0}]call roob};if(_this=="")exitwith{["Hide all types on map",{nmkv=[player,format['%1 (%2) hid all types on map',name player,getPlayerUID player]];publicVariableServer"nmkv";engi=[];closeDialog 0}]call roob}}};if(_this=="missions")exitwith{_wcms=[];{if((_x select 0 select 0)==_sskc)exitwith{_wcms=_x};nil}count(bl_pvar_currenttasks select 2);_rltk=_wcms select 3;if(typeName(_rltk select 0)=="OBJECT")then{_rltk=getPosATL(_rltk select 0)};_reuw=[_rltk]call slfp;_rmah=format['%1 of %2',[_rltk,_reuw select 1]call ttyi,_reuw select 0];[format['
			%1<br />
			%2<br />
			<br />
			%3<br />',_wcms select 2 select 1 select 0,_wcms select 2 select 0 select 0,_wcms select 0 select 0]]call hyxv;ppby=_wcms select 0 select 0;["Fail Mission",{tlnd=[player,ppby];publicVariableServer"tlnd";closeDialog 0}]call roob}}};