#include "functions\vbvk.sqf"_ctbv=call compile((_this select 0)lbData(_this select 1));_kcnu=((uiNamespace getVariable'gearDialog')displayCtrl buyGunIDC);_sfuq=true;if((_this select 2)=='cart')then{_sfuq=false;_kcnu ctrlSetText"Remove item from cart";_kcnu buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gear\yfjh.sqf'"}else{if((_ctbv select 0)=='presets')then{_kcnu ctrlShow true;_kcnu ctrlSetText"Activate Preset";_kcnu buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gear\arcv.sqf'";((uiNamespace getVariable'gearDialog')displayCtrl deletePresetIDC)ctrlShow true}else{_kcnu ctrlSetText"Add item to cart";_kcnu buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gear\gxdi.sqf'"}};if(_ctbv select 0=='presets')exitwith{};_kcnu ctrlShow true;((uiNamespace getVariable'gearDialog')displayCtrl buyAmmoIDC)ctrlShow _sfuq;((uiNamespace getVariable'gearDialog')displayCtrl deletePresetIDC)ctrlShow false;if((_this select 2)in['items','cart'])then{_ctbv call aiws};if((_ctbv select 0)=="CfgWeapons"&&(_this select 2)=='items')then{_oqny=_ctbv select 1;_qccp=getArray(configFile>>"CfgWeapons">>_oqny>>"magazines");_dcah=[];{if(_x!='this')then{_qccp=_qccp+getArray(configFile>>"CfgWeapons">>_oqny>>_x>>"magazines")}}count(getArray(configFile>>"CfgWeapons">>_oqny>>"muzzles"));{if(["CfgMagazines",_x]call moge)then{_dcah set[count _dcah,["CfgMagazines",_x]]};true}count _qccp;_ebli=(uiNamespace getVariable'gearDialog')displayCtrl ammoListIDC;[_ebli,_dcah]call ujhm;_ebli lbSetCurSel 0};