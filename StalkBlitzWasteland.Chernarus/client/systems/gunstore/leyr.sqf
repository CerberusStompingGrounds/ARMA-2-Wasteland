#include "functions\ckbl.sqf"_fxzt=call compile((_this select 0)lbData(_this select 1));_tkdf=((uiNamespace getVariable'gearDialog')displayCtrl buyGunIDC);_dwtv=true;if((_this select 2)=='cart')then{_dwtv=false;_tkdf ctrlSetText"Remove item from cart";_tkdf buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gunStore\hula.sqf'"}else{_tkdf ctrlSetText"Add gun to cart";_tkdf buttonSetAction"[] call compile preprocessFileLineNumbers 'client\systems\gunStore\esky.sqf'"};if(_fxzt select 0=='presets')exitwith{};_tkdf ctrlShow true;((uiNamespace getVariable'gearDialog')displayCtrl buyAmmoIDC)ctrlShow _dwtv;((uiNamespace getVariable'gearDialog')displayCtrl deletePresetIDC)ctrlShow false;if((_this select 2)in['items','cart'])then{_fxzt call xnck};if((_fxzt select 0)=="CfgWeapons"&&(_this select 2)=='items')then{_tazx=_fxzt select 1;_looj=getArray(configFile>>"CfgWeapons">>_tazx>>"magazines");_hasw=[];{if(_x!='this')then{_looj=_looj+getArray(configFile>>"CfgWeapons">>_tazx>>_x>>"magazines")}}count(getArray(configFile>>"CfgWeapons">>_tazx>>"muzzles"));{if(["CfgMagazines",_x]call xyzy)then{_hasw set[count _hasw,["CfgMagazines",_x]]};true}count _looj;_mzpa=(uiNamespace getVariable'gearDialog')displayCtrl ammoListIDC;[_mzpa,_hasw]call bzai;_mzpa lbSetCurSel 0};